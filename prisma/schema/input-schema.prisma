
model InputSchemaDefinition {
  id          Int       @id @default(autoincrement())
  schemaName  String
  schema      Json      // Store the SQL schema definition as JSON
  types       Json      // Store the type casts and Zod validation configuration
  valid_at    DateTime  @default(now()) // Start of schema version validity
  expired_at  DateTime? // Nullable to represent current valid schema
  
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  @@index([schemaName, valid_at, expired_at]) // Efficient querying for versions
}
